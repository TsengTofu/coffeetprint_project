(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57645a72"],{"0a58":function(e,t,a){},1425:function(e,t,a){},"1dde":function(e,t,a){var c=a("d039"),o=a("b622"),r=a("2d00"),n=o("species");e.exports=function(e){return r>=51||!c((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4749:function(e,t,a){"use strict";a("0a58")},"6b62":function(e,t,a){},8418:function(e,t,a){"use strict";var c=a("c04e"),o=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var n=c(t);n in e?o.f(e,n,r(0,a)):e[n]=a}},"8f27":function(e,t,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-6ad9cb6a");Object(c["pushScopeId"])("data-v-6ad9cb6a");var r={"aria-label":"Page navigation example",ref:"pagination"},n={class:"pagination"},d=Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"«")],-1),i={class:"page-link",href:"#"},l=Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"»")],-1);Object(c["popScopeId"])();var s=o((function(e,t,a,o,s,b){return Object(c["openBlock"])(),Object(c["createBlock"])("nav",r,[Object(c["createVNode"])("ul",n,[Object(c["createVNode"])("li",{class:["page-item",a.pagination_object.has_pre?null:"disabled"],onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return b.onChangePage(a.pagination_object.current_page-1)}),["prevent"]))},[d],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination_object.total_pages,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",a.pagination_object.current_page===t+1?"active":null],key:"page_"+t,onClick:Object(c["withModifiers"])((function(e){return b.onChangePage(t+1)}),["prevent"])},[Object(c["createVNode"])("a",i,Object(c["toDisplayString"])(t+1),1)],10,["onClick"])})),128)),Object(c["createVNode"])("li",{class:["page-item",a.pagination_object.has_next?null:"disabled"],onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return b.onChangePage(a.pagination_object.current_page+1)}),["prevent"]))},[l],2)])],512)})),b={name:"PaginationComponent",props:{pagination_object:Object},emits:["emit-change-page"],data:function(){return{current_page:this.pagination_object.current_page,page_alert_msg:""}},methods:{onChangePage:function(e){0===e||e>this.pagination_object.total_pages||(this.current_page=e,this.$emit("emit-change-page",this.current_page))}},mounted:function(){}};a("a720");b.render=s,b.__scopeId="data-v-6ad9cb6a";t["a"]=b},"99af":function(e,t,a){"use strict";var c=a("23e7"),o=a("d039"),r=a("e8b5"),n=a("861d"),d=a("7b0b"),i=a("50c4"),l=a("8418"),s=a("65f0"),b=a("1dde"),u=a("b622"),p=a("2d00"),O=u("isConcatSpreadable"),j=9007199254740991,m="Maximum allowed index exceeded",f=p>=51||!o((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),g=b("concat"),h=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:r(e)},N=!f||!g;c({target:"Array",proto:!0,forced:N},{concat:function(e){var t,a,c,o,r,n=d(this),b=s(n,0),u=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?n:arguments[t],h(r)){if(o=i(r.length),u+o>j)throw TypeError(m);for(a=0;a<o;a++,u++)a in r&&l(b,u,r[a])}else{if(u>=j)throw TypeError(m);l(b,u++,r)}return b.length=u,b}})},a434:function(e,t,a){"use strict";var c=a("23e7"),o=a("23cb"),r=a("a691"),n=a("50c4"),d=a("7b0b"),i=a("65f0"),l=a("8418"),s=a("1dde"),b=s("splice"),u=Math.max,p=Math.min,O=9007199254740991,j="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var a,c,s,b,m,f,g=d(this),h=n(g.length),N=o(e,h),V=arguments.length;if(0===V?a=c=0:1===V?(a=0,c=h-N):(a=V-2,c=p(u(r(t),0),h-N)),h+a-c>O)throw TypeError(j);for(s=i(g,c),b=0;b<c;b++)m=N+b,m in g&&l(s,b,g[m]);if(s.length=c,a<c){for(b=N;b<h-c;b++)m=b+c,f=b+a,m in g?g[f]=g[m]:delete g[f];for(b=h;b>h-c+a;b--)delete g[b-1]}else if(a>c)for(b=h-c;b>N;b--)m=b+c-1,f=b+a-1,m in g?g[f]=g[m]:delete g[f];for(b=0;b<a;b++)g[b+N]=arguments[b+2];return g.length=h-c+a,s}})},a720:function(e,t,a){"use strict";a("1425")},b0c0:function(e,t,a){var c=a("83ab"),o=a("9bf2").f,r=Function.prototype,n=r.toString,d=/^\s*function ([^ (]*)/,i="name";c&&!(i in r)&&o(r,i,{configurable:!0,get:function(){try{return n.call(this).match(d)[1]}catch(e){return""}}})},b18d:function(e,t,a){},be4e:function(e,t,a){"use strict";a.r(t);var c=a("7a23");function o(e,t,a,o,r,n){var d=Object(c["resolveComponent"])("OrderListComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return n.clearAllOrders&&n.clearAllOrders.apply(n,arguments)})}," 清除所有訂單 "),Object(c["createVNode"])(d,{order_list:r.order_list,pagination:r.pagination,onGetOrderList:n.getOrderList},null,8,["order_list","pagination","onGetOrderList"])])}a("99af");var r=Object(c["withScopeId"])("data-v-7f56bce2");Object(c["pushScopeId"])("data-v-7f56bce2");var n={class:"table table-striped table-hover"},d=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",null,"訂單編號"),Object(c["createVNode"])("th",null,"是否付款"),Object(c["createVNode"])("th",null,"付款日期"),Object(c["createVNode"])("th",null,"訂單總金額"),Object(c["createVNode"])("th",null,"詳細資訊"),Object(c["createVNode"])("th",null,"建立時間"),Object(c["createVNode"])("th",null,"編輯"),Object(c["createVNode"])("th",null,"刪除")])],-1),i={key:0},l=Object(c["createVNode"])("span",{class:"material-icons-round"},"check_circle",-1),s=Object(c["createTextVNode"])("已付款 "),b={key:1},u=Object(c["createVNode"])("span",{class:"material-icons-round"},"do_not_disturb_on",-1),p=Object(c["createTextVNode"])("未付款 "),O={key:2},j={key:3},m=Object(c["createVNode"])("span",{class:"material-icons-round"},"edit",-1),f=Object(c["createVNode"])("span",{class:"material-icons-round"},"delete",-1),g=Object(c["createTextVNode"])(" 目前的訂單列表是空的，請多推廣自己的網站 "),h=Object(c["createVNode"])("div",{class:"img_part"},null,-1),N={class:"info_detail"},V=Object(c["createVNode"])("p",null,"還沒撈資料的部分",-1),v=Object(c["createVNode"])("br",null,null,-1),_=Object(c["createTextVNode"])(" 是否已付款："),k=Object(c["createTextVNode"])(" 總金額："),y=Object(c["createTextVNode"])(" 數量：");Object(c["popScopeId"])();var C=r((function(e,t,a,o,C,S){var x=Object(c["resolveComponent"])("ConfirmModalComponent"),B=Object(c["resolveComponent"])("OrderCardComponent"),w=Object(c["resolveComponent"])("OrderDetailCardComponent"),D=Object(c["resolveComponent"])("PaginationComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("table",n,[d,Object(c["createVNode"])("tbody",null,[a.order_list.length>0?(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(a.order_list,(function(t,a){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:"order_"+a},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(t.id),1),t.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("td",i,[l,s])):(Object(c["openBlock"])(),Object(c["createBlock"])("td",b,[u,p])),t.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("td",O,Object(c["toDisplayString"])(e.$dayjs.unix(t.paid_date).format("YYYY-MM-DD")),1)):(Object(c["openBlock"])(),Object(c["createBlock"])("td",j,"/")),Object(c["createVNode"])("td",null,"NT$ "+Object(c["toDisplayString"])(t.total.toLocaleString()),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#orderDetailModal",onClick:function(e){return S.setStatus("get",t)}},"詳細內容",8,["onClick"])]),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.$dayjs.unix(t.create_at).format("YYYY-MM-DD")),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{class:"icon_btn",type:"button","data-bs-toggle":"modal","data-bs-target":"#orderModal",onClick:function(e){return S.setStatus("put",t)}},[m],8,["onClick"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{class:"icon_btn",type:"button","data-bs-toggle":"modal","data-bs-target":"#confirmModal",onClick:function(e){return C.targetItem=t}},[f],8,["onClick"])])])})),128)):(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:1},[g],64))])]),Object(c["createVNode"])(x,{ref:"confirm_modal",id:"confirmModal",onEmitDelete:t[1]||(t[1]=function(e){return S.deleteCurrentProduct(C.targetId)})},{delete_item:r((function(){return[Object(c["createTextVNode"])(" 訂單："+Object(c["toDisplayString"])(C.targetItem.id),1)]})),delete_content:r((function(){return[h,Object(c["createVNode"])("div",N,[V,v,_,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(C.targetItem.is_paid),1),k,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(C.targetItem.total),1),y,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(C.targetItem.num),1)])]})),_:1},512),Object(c["createVNode"])(B,{ref:"order_modal",id:"orderModal",status:C.status},null,8,["status"]),Object(c["createVNode"])(w,{ref:"order_detail_modal",id:"orderDetailModal",status:C.status},null,8,["status"]),Object(c["createVNode"])(D,{pagination_object:a.pagination,onEmitChangePage:S.getData},null,8,["pagination_object","onEmitChangePage"])])})),S=(a("159b"),a("a434"),Object(c["withScopeId"])("data-v-261e8693"));Object(c["pushScopeId"])("data-v-261e8693");var x={class:"modal fade",id:"orderModal",ref:"modal",tabindex:"-1"},B={class:"modal-xl\n        modal-dialog\n        modal-dialog-centered\n        modal-dialog-scrollable\n        wrapper"},w={class:"modal-content product_card_wrapper"},D=Object(c["createVNode"])("div",{class:"modal-header header"},[Object(c["createVNode"])("div",{class:"left"},[Object(c["createVNode"])("p",null,"xxxxxx"),Object(c["createVNode"])("span",{"data-bs-dismiss":"modal","aria-label":"Close"},[Object(c["createVNode"])("span",{class:"material-icons-round"},"clear")])]),Object(c["createVNode"])("span",null," mmmmmm ")],-1),I={class:"modal-body outer"},M={class:"container"},$={class:"content"},L=Object(c["createVNode"])("ul",null,null,-1),P=Object(c["createVNode"])("p",null,"這邊會拿到這筆訂單的資料",-1),T={class:"modal-footer button_block"},A=Object(c["createVNode"])("button",{class:"cancel","data-bs-dismiss":"modal",type:"button"}," 取消 ",-1);Object(c["popScopeId"])();var Y=S((function(e,t,a,o,r,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div",x,[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("div",w,[D,Object(c["createVNode"])("div",I,[Object(c["createVNode"])("div",M,[Object(c["createVNode"])("div",$,[L,P,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.tempOrder),1)])])]),Object(c["createVNode"])("div",T,[A,"post"===a.status?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,onClick:t[1]||(t[1]=function(){return e.addNewProduct&&e.addNewProduct.apply(e,arguments)}),type:"button"}," 確認 ")):(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:1,onClick:t[2]||(t[2]=function(){return n.editCurrentOrder&&n.editCurrentOrder.apply(n,arguments)}),type:"button"}," 確認 "))])])])],512)})),E=a("7b17"),J={name:"OrderCardComponent",props:{status:String},data:function(){return{tempOrder:{is_paid:"",total:"",user:{}}}},methods:{editCurrentOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/order/").concat(this.tempOrder.id);this.axios.put(t,{data:this.tempOrder}).then((function(t){var a=t.data,c=a.success,o=a.message;c&&e.$swal(o)})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){this.modal=new E["b"](this.$refs.modal)}};a("dcd4");J.render=Y,J.__scopeId="data-v-261e8693";var F=J,G=a("f609"),q=a("8f27"),U=(a("b0c0"),Object(c["withScopeId"])("data-v-303e0bdb"));Object(c["pushScopeId"])("data-v-303e0bdb");var z={class:"modal fade",id:"orderDetailModal",ref:"modal",tabindex:"-1"},H={class:"modal-xl\n        modal-dialog\n        modal-dialog-centered\n        modal-dialog-scrollable\n        wrapper"},K={class:"modal-content\n          product_card_wrapper"},Q={class:"modal-header header"},R=Object(c["createVNode"])("div",{class:"left"},[Object(c["createVNode"])("p",null,"訂單詳細內容"),Object(c["createVNode"])("span",{"data-bs-dismiss":"modal","aria-label":"Close"},[Object(c["createVNode"])("span",{class:"material-icons-round"},"clear")])],-1),W={class:"modal-body outer"},X={class:"container"},Z={class:"content"},ee=Object(c["createVNode"])("br",null,null,-1),te={key:0},ae=Object(c["createVNode"])("br",null,null,-1),ce=Object(c["createTextVNode"])(" 產品 "),oe=Object(c["createVNode"])("div",{class:"modal-footer button_block"},[Object(c["createVNode"])("button",{class:"cancel","data-bs-dismiss":"modal",type:"button"}," 取消 "),Object(c["createVNode"])("button",{type:"button"}," 確認 ")],-1);Object(c["popScopeId"])();var re=U((function(e,t,a,o,r,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div",z,[Object(c["createVNode"])("div",H,[Object(c["createVNode"])("div",K,[Object(c["createVNode"])("div",Q,[R,Object(c["createVNode"])("span",null," 編號 "+Object(c["toDisplayString"])(r.currentOrder.id),1)]),Object(c["createVNode"])("div",W,[Object(c["createVNode"])("div",X,[Object(c["createVNode"])("div",Z,[Object(c["createTextVNode"])(" 日期"+Object(c["toDisplayString"])(r.currentOrder.create_at)+" 是否付款"+Object(c["toDisplayString"])(r.currentOrder.is_paid)+" 顧客留言"+Object(c["toDisplayString"])(r.currentOrder.message)+" 付款日期"+Object(c["toDisplayString"])(r.currentOrder.paid_date)+" 最終金額"+Object(c["toDisplayString"])(r.currentOrder.total)+" 使用者相關：",1),ee,r.currentOrder.user?(Object(c["openBlock"])(),Object(c["createBlock"])("p",te,[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(r.currentOrder.user.name),1),Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(r.currentOrder.user.email),1),Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(r.currentOrder.user.tel),1)])):Object(c["createCommentVNode"])("",!0),ae,ce,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.currentOrder.products,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:"product_"+t},[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.product.category),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.product.imageUrl),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.final_total),1)])})),128))])])]),oe])])],512)})),ne={name:"OrderDetailCardComponent",props:{status:String},data:function(){return{currentOrder:{}}},methods:{},mounted:function(){this.modal=new E["b"](this.$refs.modal)}};a("eddd");ne.render=re,ne.__scopeId="data-v-303e0bdb";var de=ne,ie={name:"OrderListComponent",props:{order_list:Array,pagination:Object},emits:["getOrderList"],components:{OrderCardComponent:F,ConfirmModalComponent:G["a"],PaginationComponent:q["a"],OrderDetailCardComponent:de},data:function(){return{targetItem:{},targetId:"",orderList:this.order_list,status:""}},methods:{setStatus:function(e,t){this.status=e,this.$refs.order_modal.tempOrder=JSON.parse(JSON.stringify(t)),this.$refs.order_detail_modal.currentOrder=JSON.parse(JSON.stringify(t))},getData:function(){this.$emit("getOrderList")},deleteCurrentProduct:function(){var e=this,t=0;this.targetId=this.targetItem.id,this.orderList.forEach((function(a,c){e.targetId===a.id&&(t=c)})),this.deleteProductAPI(),this.orderList.splice(t,1)},deleteProductAPI:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/order/").concat(this.targetId);this.axios.delete(t).then((function(t){var a=t.data.success;a?(e.$swal("有正常刪除啦"),e.$emit("getOrderList")):e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){}};a("4749");ie.render=C,ie.__scopeId="data-v-7f56bce2";var le=ie,se={name:"AdminOrders",props:{},components:{OrderListComponent:le},data:function(){return{order_list:[],pagination:{}}},methods:{clearAllOrders:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/orders/all");this.axios.delete(t).then((function(t){var a=t.data,c=a.success,o=a.message;c?(e.$swal(o),e.getOrderList()):e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},getOrderList:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/orders?page=1");this.axios.get(t).then((function(t){var a=t.data,c=a.success,o=a.pagination,r=a.orders;c&&(e.order_list=r,e.pagination=o)})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){this.getOrderList()}};se.render=o;t["default"]=se},dcd4:function(e,t,a){"use strict";a("b18d")},eddd:function(e,t,a){"use strict";a("6b62")},f609:function(e,t,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-1ae2933b");Object(c["pushScopeId"])("data-v-1ae2933b");var r={class:"modal fade",id:"confirmModal",tabindex:"-1","aria-hidden":"true",ref:"modal"},n={class:"modal-dialog"},d={class:"modal-content"},i={class:"modal-header"},l={class:"modal-title",id:"exampleModalLabel"},s=Object(c["createTextVNode"])(" 確定要刪除此項"),b=Object(c["createTextVNode"])("嗎？ "),u=Object(c["createVNode"])("button",{class:"btn-close",type:"button","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),p={class:"modal-body"},O=Object(c["createVNode"])("p",null,"品項相關資訊",-1),j={class:"modal-footer"};Object(c["popScopeId"])();var m=o((function(e,t,a,o,m,f){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("h5",l,[s,Object(c["renderSlot"])(e.$slots,"delete_item",{},void 0,!0),b]),u]),Object(c["createVNode"])("div",p,[O,Object(c["renderSlot"])(e.$slots,"delete_content",{},void 0,!0)]),Object(c["createVNode"])("div",j,[Object(c["createVNode"])("button",{class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(e){return f.confirm(!1)})}," 取消 "),Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(e){return f.confirm(!0)})}," 確認 ")])])])],512)})),f=a("7b17"),g={name:"ConfirmModalComponent",props:{target_item:Object},emits:["emit-delete"],data:function(){return{}},methods:{confirm:function(e){return e&&(this.$emit("emit-delete"),this.modal.hide()),!1}},mounted:function(){this.modal=new f["b"](this.$refs.modal)}};g.render=m,g.__scopeId="data-v-1ae2933b";t["a"]=g}}]);
//# sourceMappingURL=chunk-57645a72.18ea98d0.js.map