(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1da19736"],{"007b":function(e,t,c){"use strict";c.r(t);c("a434"),c("a4d3"),c("e01a");var o=c("7a23"),a=Object(o["withScopeId"])("data-v-7f532dc8");Object(o["pushScopeId"])("data-v-7f532dc8");var l={class:"container"},r={class:"mb-3"},n=Object(o["createVNode"])("label",{for:"area",class:"form-label"},"縣市",-1),i={class:"mb-3"},d=Object(o["createVNode"])("label",{for:"nearby",class:"form-label"},"靠近地標",-1),s={class:"mb-3"},u=Object(o["createVNode"])("label",{for:"avatar",class:"form-label"},"頭貼網址",-1),p={class:"mb-3"},b=Object(o["createVNode"])("label",{for:"cafe_name",class:"form-label"},"主推薦店家名稱",-1),m={class:"mb-3"},f=Object(o["createVNode"])("label",{for:"suggestion",class:"form-label"},"店家描述",-1),j={class:"row"},O={class:"col-sm-4"},v={class:"mb-3"},V=Object(o["createVNode"])("label",{for:"title",class:"form-label"},"標題",-1),h={class:"mb-3"},g=Object(o["createVNode"])("label",{for:"image",class:"form-label"},"輸入圖片網址",-1),N={class:"mb-3"},x=Object(o["createVNode"])("label",{for:"author",class:"form-label"},"作者",-1),y={class:"mb-3"},A=Object(o["createVNode"])("label",{for:"create_at"},"文章建立日期",-1),w={class:"col-sm-8"},k=Object(o["createVNode"])("label",{for:"tag",class:"form-label"},"標籤",-1),U={class:"row gx-1 mb-3"},C={class:"input-group input-group-sm"},D=Object(o["createVNode"])("i",{class:"bi bi-x"},null,-1),I={key:0,class:"col-md-2 mb-1"},M={class:"mb-3"},T=Object(o["createVNode"])("label",{for:"description",class:"form-label"},"文章描述",-1),_=Object(o["createVNode"])("div",{class:"mb-3"},null,-1),B={class:"mb-3"},P={class:"form-check"},$=Object(o["createVNode"])("label",{class:"form-check-label",for:"isPublic"}," 是否公開 ",-1);Object(o["popScopeId"])();var S=a((function(e,t,c,a,S,F){var J=Object(o["resolveComponent"])("UploadImageComponent"),L=Object(o["resolveComponent"])("ckeditor");return Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[Object(o["createVNode"])(J),Object(o["createVNode"])("div",r,[n,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"area",class:"form-control",type:"text",placeholder:"縣市","onUpdate:modelValue":t[1]||(t[1]=function(e){return S.tempArticle.area=e})},null,512),[[o["vModelText"],S.tempArticle.area]])]),Object(o["createVNode"])("div",i,[d,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"nearby",class:"form-control",type:"text",placeholder:"請輸入靠近地標","onUpdate:modelValue":t[2]||(t[2]=function(e){return S.tempArticle.nearby=e})},null,512),[[o["vModelText"],S.tempArticle.nearby]])]),Object(o["createVNode"])("div",s,[u,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"avatar",class:"form-control",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return S.tempArticle.avatar=e}),placeholder:"請輸入頭貼網址"},null,512),[[o["vModelText"],S.tempArticle.avatar]])]),Object(o["createVNode"])("div",p,[b,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"cafe_name",class:"form-control",type:"text",placeholder:"請輸入主推薦店家名稱","onUpdate:modelValue":t[4]||(t[4]=function(e){return S.tempArticle.cafe_name=e})},null,512),[[o["vModelText"],S.tempArticle.cafe_name]])]),Object(o["createVNode"])("div",m,[f,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"suggestion",class:"form-control",type:"text",placeholder:"店家描述","onUpdate:modelValue":t[5]||(t[5]=function(e){return S.tempArticle.suggestion=e})},null,512),[[o["vModelText"],S.tempArticle.suggestion]])]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",v,[V,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"title",class:"form-control",type:"text",placeholder:"請輸入標題","onUpdate:modelValue":t[6]||(t[6]=function(e){return S.tempArticle.title=e})},null,512),[[o["vModelText"],S.tempArticle.title]])]),Object(o["createVNode"])("div",h,[g,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"image",class:"form-control",type:"text",placeholder:"請輸入圖片連結","onUpdate:modelValue":t[7]||(t[7]=function(e){return S.tempArticle.imageUrl=e})},null,512),[[o["vModelText"],S.tempArticle.imageUrl]])]),Object(o["createVNode"])("div",N,[x,Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"author",class:"form-control",type:"text",placeholder:"請輸入標題","onUpdate:modelValue":t[8]||(t[8]=function(e){return S.tempArticle.author=e})},null,512),[[o["vModelText"],S.tempArticle.author]])]),Object(o["createVNode"])("div",y,[A,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"date",class:"form-control",id:"create_at","onUpdate:modelValue":t[9]||(t[9]=function(e){return S.create_at=e})},null,512),[[o["vModelText"],S.create_at]])])]),Object(o["createVNode"])("div",w,[k,Object(o["createVNode"])("div",U,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(S.tempArticle.tag,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-md-2 mb-1",key:t},[Object(o["createVNode"])("div",C,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"tag",class:"form-control form-control",type:"text",placeholder:"請輸入標籤","onUpdate:modelValue":function(e){return S.tempArticle.tag[t]=e}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],S.tempArticle.tag[t]]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return S.tempArticle.tag.splice(t,1)}},[D],8,["onClick"])])])})),128)),S.tempArticle.tag[S.tempArticle.tag.length-1]||!S.tempArticle.tag.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",I,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[10]||(t[10]=function(e){return S.tempArticle.tag.push("")})}," 新增標籤 ")])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",M,[T,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{id:"description",class:"form-control",type:"text",placeholder:"請輸入文章描述","onUpdate:modelValue":t[11]||(t[11]=function(e){return S.tempArticle.description=e})},"\n          ",512),[[o["vModelText"],S.tempArticle.description]])]),_,Object(o["createVNode"])("div",B,[Object(o["createVNode"])("div",P,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{id:"isPublic",class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=function(e){return S.tempArticle.isPublic=e})},null,512),[[o["vModelCheckbox"],S.tempArticle.isPublic]]),$])])])]),Object(o["createVNode"])(L,{editor:S.editor,config:S.editorConfig,class:"test",modelValue:S.tempArticle.content,"onUpdate:modelValue":t[13]||(t[13]=function(e){return S.tempArticle.content=e})},null,8,["editor","config","modelValue"]),Object(o["createVNode"])("button",{type:"button",onClick:t[14]||(t[14]=function(){return F.editPost&&F.editPost.apply(F,arguments)})}," 確認編輯 ")])})),F=(c("99af"),c("fb3d")),J=c.n(F),L=c("74b5"),R={name:"AdminPostDetail",props:{},components:{UploadImageComponent:L["a"]},data:function(){return{tempArticle:{tag:[""],create_at:1555459220},create_at:1555459220,editor:J.a,editorConfig:{toolbar:["heading","typing","bold","italic","|","link"]}}},methods:{getSinglePostContent:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/article/").concat(this.$route.params.id);this.axios.get(t).then((function(t){var c=t.data.success;if(c){var o=t.data.article;e.tempArticle=o}})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},editPost:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/article/").concat(this.tempArticle.id);this.axios.put(t,{data:this.tempArticle}).then((function(t){var c=t.data.success;c||e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){this.getSinglePostContent()}};c("5e55");R.render=S,R.__scopeId="data-v-7f532dc8";t["default"]=R},1083:function(e,t,c){},"5e55":function(e,t,c){"use strict";c("1083")},"74b5":function(e,t,c){"use strict";var o=c("7a23"),a=Object(o["createVNode"])("p",null,"上傳圖片區塊",-1),l={enctype:"multipart/form-data",method:"post"},r=Object(o["createVNode"])("p",null,"網址位置",-1);function n(e,t,c,n,i,d){return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[a,Object(o["createVNode"])("form",l,[Object(o["createVNode"])("input",{type:"file",name:"file-to-upload",onChange:t[1]||(t[1]=function(){return d.uploadImage&&d.uploadImage.apply(d,arguments)})},null,32)]),r,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.url=e}),ref:"imageUrl"},null,512),[[o["vModelText"],i.url]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=function(){return d.copyImageUrl&&d.copyImageUrl.apply(d,arguments)})}," 點我複製網址 ")])}c("99af");var i={name:"UploadImageComponent",props:{},components:{},data:function(){return{url:""}},methods:{uploadImage:function(e){var t=this,c=e.target.files[0],o=new FormData;o.append("file-to-upload",c);var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/admin/upload");this.axios.post(a,o).then((function(e){var c=e.data.success;c?(t.$swal("成功上傳"),t.url=e.data.imageUrl):t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},copyImageUrl:function(){this.$refs.imageUrl.select(),this.$refs.imageUrl.setSelectionRange(0,99999),document.execCommand("copy")}},mounted:function(){}};i.render=n;t["a"]=i}}]);
//# sourceMappingURL=chunk-1da19736.aca4b4f8.js.map