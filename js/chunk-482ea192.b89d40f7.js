(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-482ea192"],{"1dde":function(e,t,c){var o=c("d039"),r=c("b622"),a=c("2d00"),n=r("species");e.exports=function(e){return a>=51||!o((function(){var t=[],c=t.constructor={};return c[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3578:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r=Object(o["withScopeId"])("data-v-5e2b0166");Object(o["pushScopeId"])("data-v-5e2b0166");var a={class:"order_complete_wrapper"},n={class:"order_complete_content container"};Object(o["popScopeId"])();var i=r((function(e,t,c,r,i,s){var d=Object(o["resolveComponent"])("TopBannerComponent"),l=Object(o["resolveComponent"])("CheckoutStepComponent"),p=Object(o["resolveComponent"])("OrderPaymentComponent");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])(d,{main_title:"美食已在托盤上",vice_title:"手刀結帳，找朋友聚餐啦！"}),Object(o["createVNode"])("div",n,[Object(o["createVNode"])(l,{step:"order_complete"}),Object(o["createVNode"])(p)])])})),s=c("6bfb"),d=c("42f2"),l=c("67fe"),p={name:"OrderComplete",props:{},components:{TopBannerComponent:d["a"],CheckoutStepComponent:s["a"],OrderPaymentComponent:l["a"]},data:function(){return{}},methods:{},mounted:function(){}};c("ddaa");p.render=i,p.__scopeId="data-v-5e2b0166";t["default"]=p},"42f2":function(e,t,c){"use strict";var o=c("7a23"),r=Object(o["withScopeId"])("data-v-63f7c8d6");Object(o["pushScopeId"])("data-v-63f7c8d6");var a={class:"top_banner container-fluid"},n={class:"describe"};Object(o["popScopeId"])();var i=r((function(e,t,c,r,i,s){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(c.main_title),1),Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(c.vice_title),1)])])})),s={name:"TopBannerComponent",props:{main_title:String,vice_title:String},data:function(){return{}},methods:{}};c("84e9");s.render=i,s.__scopeId="data-v-63f7c8d6";t["a"]=s},"67fe":function(e,t,c){"use strict";c("b0c0");var o=c("7a23"),r=Object(o["withScopeId"])("data-v-2ea6992e");Object(o["pushScopeId"])("data-v-2ea6992e");var a={class:"card mt-4"},n={class:"card-header common_row_space_between"},i={class:"common_row_align"},s={key:0,class:"common_row_align"},d=Object(o["createVNode"])("b",{class:"me-2"},[Object(o["createVNode"])("span",{class:"material-icons-round"},"verified"),Object(o["createTextVNode"])("已付款 ")],-1),l={key:1,class:"common_row_align"},p=Object(o["createVNode"])("b",{class:"me-2"},[Object(o["createVNode"])("span",{class:"material-icons-round"},"clear"),Object(o["createTextVNode"])("未付款 ")],-1),u={class:"common_row_align"},b=Object(o["createTextVNode"])(" 付款結帳 "),O=Object(o["createVNode"])("span",{class:"material-icons-round"},"keyboard_arrow_right",-1),j={class:"card-body"},m={class:"container"},f={class:"row"},v={class:"col-md-6"},_=Object(o["createVNode"])("h4",null,"使用者資料",-1),N={key:0},V={class:"col-md-6"},h=Object(o["createVNode"])("h4",null,"訂單內容",-1),y=Object(o["createTextVNode"])(" 訂單總金額：NT$ "),g={class:"image col-3"},k={class:"content"};Object(o["popScopeId"])();var D=r((function(e,t,c,r,D,S){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("h5",i,[D.orderDetail.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[d,Object(o["createTextVNode"])(" 訂單 "+Object(o["toDisplayString"])(D.orderDetail.id),1)])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[p,Object(o["createTextVNode"])(" 訂單"+Object(o["toDisplayString"])(D.orderDetail.id),1)]))]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary me-2",onClick:t[1]||(t[1]=function(){return S.copyOrderID&&S.copyOrderID.apply(S,arguments)})}," 複製訂單編號 "),D.orderDetail.is_paid?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary d-flex",onClick:t[2]||(t[2]=function(){return S.goToPayment&&S.goToPayment.apply(S,arguments)})},[b,O]))])]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("div",v,[_,D.user?(Object(o["openBlock"])(),Object(o["createBlock"])("div",N,[Object(o["createVNode"])("p",null,"訂購人地址："+Object(o["toDisplayString"])(D.user.address),1),Object(o["createVNode"])("p",null,"訂購人信箱："+Object(o["toDisplayString"])(D.user.email),1),Object(o["createVNode"])("p",null,"訂購人姓名："+Object(o["toDisplayString"])(D.user.name),1),Object(o["createVNode"])("p",null,"訂購人電話："+Object(o["toDisplayString"])(D.user.tel),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",V,[h,Object(o["createVNode"])("figcaption",null,"結帳時間："+Object(o["toDisplayString"])(D.order_time),1),Object(o["createVNode"])("p",null,[y,Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(Math.floor(D.orderDetail.total).toLocaleString()),1)]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(D.product_list,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"d-flex align-items-center mb-4",key:e+t},[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("img",{src:D.orderDetail.products[e].product.imageUrl,alt:"購買品項的圖片"},null,8,["src"])]),Object(o["createVNode"])("div",k,[Object(o["createVNode"])("p",null,[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(D.orderDetail.products[e].product.category),1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(D.orderDetail.products[e].product.title)+" 折價券 x "+Object(o["toDisplayString"])(D.orderDetail.products[e].qty)+" 張 ",1)])])])})),128))])])]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",ref:"order_id","onUpdate:modelValue":t[3]||(t[3]=function(e){return D.orderDetail.id=e}),class:"no_show"},null,512),[[o["vModelText"],D.orderDetail.id]])])])})),S=(c("99af"),c("b64b"),c("5a0c")),w=c.n(S),B={name:"OrderPaymentComponent",props:{},components:{},data:function(){return{orderDetail:{},product_list:[],order_time:"",user:{},order_id:""}},methods:{copyOrderID:function(){this.$refs.order_id.select(),this.$refs.order_id.setSelectionRange(0,99999),document.execCommand("copy")},getOrderDetail:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/order/").concat(this.order_id);this.axios.get(t).then((function(t){var c=t.data,o=c.success,r=c.order,a=r.user,n=r.products;o?(e.orderDetail=r,e.order_time=w.a.unix(e.orderDetail.create_at).format("YYYY-MM-DD h:mm:ss A"),e.user=a,e.product_list=Object.keys(n)):e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},goToPayment:function(){var e=this,t=this.$route.params.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/pay/").concat(t);this.axios.post(c).then((function(c){var o=c.data,r=o.message,a=o.success;a&&(e.$swal(r),e.getOrderDetail(t),e.$router.push("/order/complete/".concat(t)))})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){this.order_id=this.$route.params.id,this.getOrderDetail()}};c("b081");B.render=D,B.__scopeId="data-v-2ea6992e";t["a"]=B},"6bfb":function(e,t,c){"use strict";var o=c("7a23"),r=Object(o["withScopeId"])("data-v-25b2354b");Object(o["pushScopeId"])("data-v-25b2354b");var a={class:"checkout_step_wrapper container"},n={class:"row"},i=Object(o["createVNode"])("span",{class:"material-icons"},"shopping_cart",-1),s={style:{"--step":"'確認品項'"}},d=Object(o["createVNode"])("span",{class:"material-icons"},"format_list_bulleted",-1),l={style:{"--step":"'確認結帳'"}},p=Object(o["createVNode"])("span",{class:"material-icons"},"local_post_office",-1),u={style:{"--step":"'訂購成功'"}},b=Object(o["createVNode"])("span",{class:"material-icons"},"done",-1);Object(o["popScopeId"])();var O=r((function(e,t,c,r,O,j){return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("ul",n,[Object(o["createVNode"])("li",{class:["col","check_cart"===c.step?"active":null],style:{"--step":"'確認品項'"}},[i],2),Object(o["createVNode"])("li",s,[Object(o["createVNode"])("div",{class:["line","check_cart"===c.step?"active":null]},null,2)]),Object(o["createVNode"])("li",{class:["col","order_info"===c.step?"active":null],style:{"--step":"'填寫資料'"}},[d],2),Object(o["createVNode"])("li",l,[Object(o["createVNode"])("div",{class:["line","order_info"===c.step?"active":null]},null,2)]),Object(o["createVNode"])("li",{class:["col","order_payment"===c.step?"active":null],style:{"--step":"'確認結帳'"}},[p],2),Object(o["createVNode"])("li",u,[Object(o["createVNode"])("div",{class:["line","order_payment"===c.step?"active":null]},null,2)]),Object(o["createVNode"])("li",{class:["col","order_complete"===c.step?"active":null],style:{"--step":"'訂購成功'"}},[b],2)])])})),j={name:"CheckoutStepComponent",props:{step:String},components:{},data:function(){return{}},mounted:function(){}};c("a9e5");j.render=O,j.__scopeId="data-v-25b2354b";t["a"]=j},"81d1":function(e,t,c){},8418:function(e,t,c){"use strict";var o=c("c04e"),r=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var n=o(t);n in e?r.f(e,n,a(0,c)):e[n]=c}},"84e9":function(e,t,c){"use strict";c("a875")},"884c":function(e,t,c){},"99af":function(e,t,c){"use strict";var o=c("23e7"),r=c("d039"),a=c("e8b5"),n=c("861d"),i=c("7b0b"),s=c("50c4"),d=c("8418"),l=c("65f0"),p=c("1dde"),u=c("b622"),b=c("2d00"),O=u("isConcatSpreadable"),j=9007199254740991,m="Maximum allowed index exceeded",f=b>=51||!r((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),v=p("concat"),_=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},N=!f||!v;o({target:"Array",proto:!0,forced:N},{concat:function(e){var t,c,o,r,a,n=i(this),p=l(n,0),u=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?n:arguments[t],_(a)){if(r=s(a.length),u+r>j)throw TypeError(m);for(c=0;c<r;c++,u++)c in a&&d(p,u,a[c])}else{if(u>=j)throw TypeError(m);d(p,u++,a)}return p.length=u,p}})},a875:function(e,t,c){},a9e5:function(e,t,c){"use strict";c("81d1")},b081:function(e,t,c){"use strict";c("ead1")},b0c0:function(e,t,c){var o=c("83ab"),r=c("9bf2").f,a=Function.prototype,n=a.toString,i=/^\s*function ([^ (]*)/,s="name";o&&!(s in a)&&r(a,s,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(e){return""}}})},ddaa:function(e,t,c){"use strict";c("884c")},ead1:function(e,t,c){}}]);
//# sourceMappingURL=chunk-482ea192.b89d40f7.js.map