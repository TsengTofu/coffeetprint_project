(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15b7ad10"],{"1dde":function(t,e,a){var c=a("d039"),o=a("b622"),r=a("2d00"),i=o("species");t.exports=function(t){return r>=51||!c((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,a){"use strict";var c=a("23e7"),o=a("5a34"),r=a("1d80"),i=a("ab13");c({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"42f2":function(t,e,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-63f7c8d6");Object(c["pushScopeId"])("data-v-63f7c8d6");var r={class:"top_banner container-fluid"},i={class:"describe"};Object(c["popScopeId"])();var n=o((function(t,e,a,o,n,l){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(a.main_title),1),Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(a.vice_title),1)])])})),l={name:"TopBannerComponent",props:{main_title:String,vice_title:String},data:function(){return{}},methods:{}};a("84e9");l.render=n,l.__scopeId="data-v-63f7c8d6";e["a"]=l},"44e7":function(t,e,a){var c=a("861d"),o=a("c6b6"),r=a("b622"),i=r("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},"4a11":function(t,e,a){},"4de4":function(t,e,a){"use strict";var c=a("23e7"),o=a("b727").filter,r=a("1dde"),i=r("filter");c({target:"Array",proto:!0,forced:!i},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5582:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),o=Object(c["withScopeId"])("data-v-798dbbd8");Object(c["pushScopeId"])("data-v-798dbbd8");var r={class:"wrapper container-fluid"},i={class:"content"},n={key:2},l=Object(c["createVNode"])("p",null,"目前收藏清單是空的",-1);Object(c["popScopeId"])();var s=o((function(t,e,a,o,s,d){var u=Object(c["resolveComponent"])("TopBannerComponent"),f=Object(c["resolveComponent"])("FavoriteCardListComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(u,{main_title:"口袋清單",vice_title:"今天想喝咖啡還是吃早午餐呢？"}),Object(c["createVNode"])("div",i,[s.final_cafe_list.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return d.clearAllFavorite&&d.clearAllFavorite.apply(d,arguments)})}," 清除全部收藏 ")):Object(c["createCommentVNode"])("",!0),s.final_cafe_list.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:1,final_cafe_list:s.final_cafe_list},null,8,["final_cafe_list"])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[l,Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return d.directToPage("products")})}," 去逛逛 ")]))])])})),d=(a("99af"),a("4de4"),a("caad"),a("2532"),a("a434"),a("42f2")),u=Object(c["withScopeId"])("data-v-73f4646c");Object(c["pushScopeId"])("data-v-73f4646c");var f={class:"container-md"},v={class:"row"};Object(c["popScopeId"])();var b=u((function(t,e,a,o,r,i){var n=Object(c["resolveComponent"])("FavoriteCardComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",f,[Object(c["createVNode"])("div",v,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.final_cafe_list,(function(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:"cafe_"+e,cafe:t},null,8,["cafe"])})),128))])])})),p=Object(c["withScopeId"])("data-v-25b73767");Object(c["pushScopeId"])("data-v-25b73767");var m={class:"col-md-4 mb-5"},h={class:"card-body"},O=Object(c["createStaticVNode"])('<ul data-v-25b73767><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li><li data-v-25b73767></li></ul><div class="content col-3" data-v-25b73767><a class="dot_button" data-v-25b73767></a></div>',2),j={class:"text_block"},g=Object(c["createVNode"])("span",{class:"material-icons-round"},"place",-1),_={class:"card_title d-flex align-items-center"},C=Object(c["createVNode"])("span",{class:"material-icons-round"},"add_circle",-1),k=Object(c["createVNode"])("span",{class:"material-icons-round"},"clear",-1);Object(c["popScopeId"])();var y=p((function(t,e,a,o,r,i){return Object(c["openBlock"])(),Object(c["createBlock"])("div",m,[Object(c["createVNode"])("div",{class:"card",onClick:e[2]||(e[2]=function(t){return i.addToCart(a.cafe.id)})},[Object(c["createVNode"])("div",h,[Object(c["createVNode"])("div",{class:"image col-9",style:{backgroundImage:"url("+a.cafe.imageUrl+")"}},null,4),O,Object(c["createVNode"])("div",j,[Object(c["createVNode"])("p",null,[g,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(a.cafe.area),1)]),Object(c["createVNode"])("h5",_,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(a.cafe.title)+" ",1),C])])]),Object(c["createVNode"])("a",{class:"remove_button",onClick:e[1]||(e[1]=Object(c["withModifiers"])((function(t){return i.removeFromFavoriteList(a.cafe.id)}),["stop"]))},[k])])])})),S={name:"FavoriteCardComponent",props:{cafe:Object},components:{},data:function(){return{isProcess:!1}},methods:{addToCart:function(t){var e=this;if(!this.isProcess){this.isProcess=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/cart");this.axios.post(a,{data:{product_id:t,qty:1}}).then((function(t){var a=t.data.success;a?(e.$swal("成功加入購物車！"),e.emitter.emit("updateCartList"),e.isProcess=!1):e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},removeFromFavoriteList:function(t){this.emitter.emit("updateFavoriteList",t)}}};a("ee34");S.render=y,S.__scopeId="data-v-25b73767";var I=S,w={name:"FavoriteCardListComponent",props:{final_cafe_list:Array},components:{FavoriteCardComponent:I},data:function(){return{}}};w.render=b,w.__scopeId="data-v-73f4646c";var F=w,N=a("c341"),x={name:"",components:{TopBannerComponent:d["a"],FavoriteCardListComponent:F},data:function(){return{favorite_cafe_list:[],final_cafe_list:[]}},methods:{getAllCafeList:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/products/all");this.axios.get(e).then((function(e){var a=e.data.success;if(a){var c=e.data.products;t.final_cafe_list=c.filter((function(e){return t.favorite_cafe_list.includes(e.id)}))}})).catch((function(){t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},getFavoriteCafeList:function(){this.favorite_cafe_list=Object(N["a"])("CoffeetPrintFavorite").getItem()||[],this.getAllCafeList()},clearAllFavorite:function(){Object(N["a"])("CoffeetPrintFavorite").removeItem(),this.getFavoriteCafeList()},directToPage:function(t){this.$router.push("/".concat(t))}},created:function(){var t=this;this.emitter.on("updateFavoriteList",(function(e){var a=t.favorite_cafe_list.indexOf(e);t.favorite_cafe_list.splice(a,1),Object(N["a"])("CoffeetPrintFavorite").saveItem(t.favorite_cafe_list),t.$swal("已成功移除此收藏！"),t.getFavoriteCafeList()}))},mounted:function(){this.getFavoriteCafeList()},unmounted:function(){this.emitter.off("updateFavoriteList")}};a("93b5");x.render=s,x.__scopeId="data-v-798dbbd8";e["default"]=x},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,a){"use strict";var c=a("c04e"),o=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var i=c(e);i in t?o.f(t,i,r(0,a)):t[i]=a}},"84e9":function(t,e,a){"use strict";a("a875")},"93b5":function(t,e,a){"use strict";a("4a11")},"99af":function(t,e,a){"use strict";var c=a("23e7"),o=a("d039"),r=a("e8b5"),i=a("861d"),n=a("7b0b"),l=a("50c4"),s=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),v=a("2d00"),b=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",h=v>=51||!o((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),O=u("concat"),j=function(t){if(!i(t))return!1;var e=t[b];return void 0!==e?!!e:r(t)},g=!h||!O;c({target:"Array",proto:!0,forced:g},{concat:function(t){var e,a,c,o,r,i=n(this),u=d(i,0),f=0;for(e=-1,c=arguments.length;e<c;e++)if(r=-1===e?i:arguments[e],j(r)){if(o=l(r.length),f+o>p)throw TypeError(m);for(a=0;a<o;a++,f++)a in r&&s(u,f,r[a])}else{if(f>=p)throw TypeError(m);s(u,f++,r)}return u.length=f,u}})},a434:function(t,e,a){"use strict";var c=a("23e7"),o=a("23cb"),r=a("a691"),i=a("50c4"),n=a("7b0b"),l=a("65f0"),s=a("8418"),d=a("1dde"),u=d("splice"),f=Math.max,v=Math.min,b=9007199254740991,p="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,c,d,u,m,h,O=n(this),j=i(O.length),g=o(t,j),_=arguments.length;if(0===_?a=c=0:1===_?(a=0,c=j-g):(a=_-2,c=v(f(r(e),0),j-g)),j+a-c>b)throw TypeError(p);for(d=l(O,c),u=0;u<c;u++)m=g+u,m in O&&s(d,u,O[m]);if(d.length=c,a<c){for(u=g;u<j-c;u++)m=u+c,h=u+a,m in O?O[h]=O[m]:delete O[h];for(u=j;u>j-c+a;u--)delete O[u-1]}else if(a>c)for(u=j-c;u>g;u--)m=u+c-1,h=u+a-1,m in O?O[h]=O[m]:delete O[h];for(u=0;u<a;u++)O[u+g]=arguments[u+2];return O.length=j-c+a,d}})},a875:function(t,e,a){},ab13:function(t,e,a){var c=a("b622"),o=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[o]=!1,"/./"[t](e)}catch(c){}}return!1}},c341:function(t,e,a){"use strict";function c(t){var e=function(e){var a=JSON.stringify(e);localStorage.setItem(t,a)},a=function(){return JSON.parse(localStorage.getItem(t))},c=function(){return localStorage.removeItem(t)};return{saveItem:e,getItem:a,removeItem:c}}a.d(e,"a",(function(){return c}))},caad:function(t,e,a){"use strict";var c=a("23e7"),o=a("4d64").includes,r=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d239:function(t,e,a){},ee34:function(t,e,a){"use strict";a("d239")}}]);
//# sourceMappingURL=chunk-15b7ad10.8d1ebc1d.js.map