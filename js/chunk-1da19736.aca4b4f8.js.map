{"version":3,"sources":["webpack:///./src/views/Admin/AdminPost/AdminPostDetail.vue","webpack:///./src/views/Admin/AdminPost/AdminPostDetail.vue?46d9","webpack:///./src/views/Admin/AdminPost/AdminPostDetail.vue?3c54","webpack:///./src/components/Admin/UploadImage.vue","webpack:///./src/components/Admin/UploadImage.vue?d432"],"names":["class","for","id","type","placeholder","tempArticle","area","nearby","avatar","cafe_name","suggestion","title","imageUrl","author","create_at","tag","label","key","splice","length","push","description","isPublic","editor","config","editorConfig","content","editPost","name","props","components","UploadImageComponent","UploadImage","data","toolbar","methods","getSinglePostContent","requestUrl","this","$route","params","axios","get","then","response","success","article","catch","$swal","icon","put","mounted","render","__scopeId","enctype","method","uploadImage","url","ref","copyImageUrl","e","file","target","files","formData","FormData","append","post","$refs","select","setSelectionRange","document","execCommand"],"mappings":"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","file":"js/chunk-1da19736.aca4b4f8.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- TODO  上傳的 UI 介面優化 -->\n    <UploadImageComponent />\n     <div class=\"mb-3\">\n      <label for=\"area\" class=\"form-label\">縣市</label>\n      <input\n        id=\"area\"\n        class=\"form-control\"\n        type=\"text\"\n        placeholder=\"縣市\"\n        v-model=\"tempArticle.area\"\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"nearby\" class=\"form-label\">靠近地標</label>\n      <input\n        id=\"nearby\"\n        class=\"form-control\"\n        type=\"text\"\n        placeholder=\"請輸入靠近地標\"\n        v-model=\"tempArticle.nearby\"\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"avatar\" class=\"form-label\">頭貼網址</label>\n      <input\n        id=\"avatar\"\n        class=\"form-control\"\n        type=\"text\"\n        v-model=\"tempArticle.avatar\"\n        placeholder=\"請輸入頭貼網址\"\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"cafe_name\" class=\"form-label\">主推薦店家名稱</label>\n      <input\n        id=\"cafe_name\"\n        class=\"form-control\"\n        type=\"text\"\n        placeholder=\"請輸入主推薦店家名稱\"\n        v-model=\"tempArticle.cafe_name\"\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"suggestion\" class=\"form-label\">店家描述</label>\n      <input\n        id=\"suggestion\"\n        class=\"form-control\"\n        type=\"text\"\n        placeholder=\"店家描述\"\n        v-model=\"tempArticle.suggestion\"\n      />\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-4\">\n        <div class=\"mb-3\">\n          <label for=\"title\" class=\"form-label\">標題</label>\n          <input\n            id=\"title\"\n            class=\"form-control\"\n            type=\"text\"\n            placeholder=\"請輸入標題\"\n            v-model=\"tempArticle.title\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n          <input\n            id=\"image\"\n            class=\"form-control\"\n            type=\"text\"\n            placeholder=\"請輸入圖片連結\"\n            v-model=\"tempArticle.imageUrl\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"author\" class=\"form-label\">作者</label>\n          <input\n            id=\"author\"\n            class=\"form-control\"\n            type=\"text\"\n            placeholder=\"請輸入標題\"\n            v-model=\"tempArticle.author\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"create_at\">文章建立日期</label>\n          <input type=\"date\" class=\"form-control\" id=\"create_at\" v-model=\"create_at\" />\n        </div>\n      </div>\n      <div class=\"col-sm-8\">\n        <label for=\"tag\" class=\"form-label\">標籤</label>\n        <div class=\"row gx-1 mb-3\">\n          <div class=\"col-md-2 mb-1\" v-for=\"(label, key) in tempArticle.tag\" :key=\"key\">\n            <div class=\"input-group input-group-sm\">\n              <input\n                id=\"tag\"\n                class=\"form-control form-control\"\n                type=\"text\"\n                placeholder=\"請輸入標籤\"\n                v-model=\"tempArticle.tag[key]\"\n              />\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger\"\n                @click=\"tempArticle.tag.splice(key, 1)\"\n              >\n                <i class=\"bi bi-x\"></i>\n              </button>\n            </div>\n          </div>\n          <div\n            class=\"col-md-2 mb-1\"\n            v-if=\"tempArticle.tag[tempArticle.tag.length - 1] || !tempArticle.tag.length\"\n          >\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-primary btn-sm d-block w-100\"\n              @click=\"tempArticle.tag.push('')\"\n            >\n              新增標籤\n            </button>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"description\" class=\"form-label\">文章描述</label>\n          <textarea\n            id=\"description\"\n            class=\"form-control\"\n            type=\"text\"\n            placeholder=\"請輸入文章描述\"\n            v-model=\"tempArticle.description\"\n          >\n          </textarea>\n        </div>\n        <div class=\"mb-3\">\n          <!--  TODO  其實我也不懂為何這裡需要註解 -->\n          <!-- <ckeditor\n            :editor=\"editor\"\n            :config=\"editorConfig\"\n            class=\"test\"\n            v-model=\"tempArticle.content\"\n          >\n          </ckeditor> -->\n        </div>\n        <div class=\"mb-3\">\n          <div class=\"form-check\">\n            <input\n              id=\"isPublic\"\n              class=\"form-check-input\"\n              type=\"checkbox\"\n              v-model=\"tempArticle.isPublic\"\n            />\n            <label class=\"form-check-label\" for=\"isPublic\">\n              是否公開\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ckeditor\n      :editor=\"editor\"\n      :config=\"editorConfig\"\n      class=\"test\"\n      v-model=\"tempArticle.content\"\n    >\n    </ckeditor>\n    <!-- 按鈕區域 -->\n    <button\n      type=\"button\"\n      @click=\"editPost\"\n    >\n      確認編輯\n    </button>\n  </div>\n</template>\n<script>\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport UploadImageComponent from '../../../components/Admin/UploadImage.vue';\n\nexport default {\n  name: 'AdminPostDetail',\n  props: {},\n  components: {\n    UploadImageComponent,\n  },\n  data() {\n    return {\n      tempArticle: {\n        tag: [''],\n        create_at: 1555459220,\n      },\n      //  FIXME  這邊的日期要做轉換，目前是都先寫死\n      create_at: 1555459220,\n      // 參考：https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html#editor\n      editor: ClassicEditor,\n      editorConfig: {\n        toolbar: ['heading', 'typing', 'bold', 'italic', '|', 'link'],\n      },\n    };\n  },\n  methods: {\n    getSinglePostContent() {\n      const requestUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/article/${this.$route.params.id}`;\n      this.axios\n        .get(requestUrl)\n        .then((response) => {\n          const { success } = response.data;\n          if (success) {\n            const { article } = response.data;\n            this.tempArticle = article;\n          }\n        })\n        .catch(() => {\n          this.$swal({ title: '出了點錯誤，請稍後再嘗試，謝謝。', icon: 'error' });\n        });\n    },\n    // 編輯文章\n    editPost() {\n      const requestUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/article/${this.tempArticle.id}`;\n      this.axios\n        .put(requestUrl, { data: this.tempArticle })\n        .then((response) => {\n          const { success } = response.data;\n          if (success) {\n            // this.$emit('emit-data', this.tempArticle);\n            // this.modal.hide();\n          } else {\n            this.$swal({ title: '出了點錯誤，請稍後再嘗試，謝謝。', icon: 'error' });\n          }\n        })\n        .catch(() => {\n          this.$swal({ title: '出了點錯誤，請稍後再嘗試，謝謝。', icon: 'error' });\n        });\n    },\n  },\n  mounted() {\n    this.getSinglePostContent();\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.test\n  height: 500px\n</style>\n","import { render } from \"./AdminPostDetail.vue?vue&type=template&id=7f532dc8&scoped=true\"\nimport script from \"./AdminPostDetail.vue?vue&type=script&lang=js\"\nexport * from \"./AdminPostDetail.vue?vue&type=script&lang=js\"\n\nimport \"./AdminPostDetail.vue?vue&type=style&index=0&id=7f532dc8&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7f532dc8\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AdminPostDetail.vue?vue&type=style&index=0&id=7f532dc8&lang=sass&scoped=true\"","<template>\n  <div>\n    <p>上傳圖片區塊</p>\n    <form enctype=\"multipart/form-data\" method=\"post\">\n      <input\n        type=\"file\"\n        name=\"file-to-upload\"\n        @change=\"uploadImage\"\n      />\n    </form>\n    <p>網址位置</p>\n    <input\n      type=\"text\"\n      v-model=\"url\"\n      ref=\"imageUrl\"\n    >\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      @click=\"copyImageUrl\"\n    >\n      點我複製網址\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UploadImageComponent',\n  props: {},\n  components: {},\n  data() {\n    return {\n      url: '',\n    };\n  },\n  methods: {\n    uploadImage(e) {\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      const requestUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/upload`;\n      this.axios\n        .post(requestUrl, formData)\n        .then((response) => {\n          const { success } = response.data;\n          if (success) {\n            this.$swal('成功上傳');\n            this.url = response.data.imageUrl;\n          } else {\n            this.$swal({ title: '出了點錯誤，請稍後再嘗試，謝謝。', icon: 'error' });\n          }\n        })\n        .catch(() => {\n          this.$swal({ title: '出了點錯誤，請稍後再嘗試，謝謝。', icon: 'error' });\n        });\n    },\n    copyImageUrl() {\n      this.$refs.imageUrl.select();\n      this.$refs.imageUrl.setSelectionRange(0, 99999);\n      document.execCommand('copy');\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped lang=\"sass\"></style>\n","import { render } from \"./UploadImage.vue?vue&type=template&id=8eefd80c\"\nimport script from \"./UploadImage.vue?vue&type=script&lang=js\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}