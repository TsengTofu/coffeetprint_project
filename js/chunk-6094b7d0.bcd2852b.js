(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6094b7d0"],{"0574":function(t,e,a){"use strict";a("ee1f")},"0fed":function(t,e,a){"use strict";a("fb98")},"163e":function(t,e,a){t.exports=a.p+"img/empty_cart.19c682f4.svg"},"1dde":function(t,e,a){var c=a("d039"),o=a("b622"),r=a("2d00"),n=o("species");t.exports=function(t){return r>=51||!c((function(){var e=[],a=e.constructor={};return a[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1ed6":function(t,e,a){},"248f":function(t,e,a){},"3bb4":function(t,e,a){"use strict";a("1ed6")},"492d":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var c=a("1d80"),o=a("5899"),r="["+o+"]",n=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),s=function(t){return function(e){var a=String(c(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(i,"")),a}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,a){var c=a("861d"),o=a("d2bb");t.exports=function(t,e,a){var r,n;return o&&"function"==typeof(r=e.constructor)&&r!==a&&c(n=r.prototype)&&n!==a.prototype&&o(t,n),t}},8418:function(t,e,a){"use strict";var c=a("c04e"),o=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var n=c(e);n in t?o.f(t,n,r(0,a)):t[n]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),o=a("d039"),r=a("e8b5"),n=a("861d"),i=a("7b0b"),s=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),b=a("b622"),f=a("2d00"),p=b("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=f>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),h=u("concat"),O=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},j=!g||!h;c({target:"Array",proto:!0,forced:j},{concat:function(t){var e,a,c,o,r,n=i(this),u=d(n,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(r=-1===e?n:arguments[e],O(r)){if(o=s(r.length),b+o>v)throw TypeError(m);for(a=0;a<o;a++,b++)a in r&&l(u,b,r[a])}else{if(b>=v)throw TypeError(m);l(u,b++,r)}return u.length=b,u}})},a983:function(t,e,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-8a3afaa0");Object(c["pushScopeId"])("data-v-8a3afaa0");var r={class:"navbar navbar-expand-lg navbar-light header_wrapper",ref:"navbar"},n={class:"container-fluid"},i=Object(c["createVNode"])("a",{class:"navbar-brand logo",href:"#"},null,-1),s=Object(c["createVNode"])("span",{class:"navbar-toggler-icon"},null,-1),l={class:"navbar-nav ms-auto mb-2 mb-lg-0"},d=Object(c["createTextVNode"])("產品列表"),u={class:"nav-item"},b=Object(c["createTextVNode"])("關於我們"),f={class:"nav-item"},p=Object(c["createTextVNode"])("收藏清單"),v=Object(c["createVNode"])("li",{class:"nav-item"},[Object(c["createVNode"])("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},[Object(c["createVNode"])("span",{class:"material-icons-round"},"shopping_cart")])],-1);Object(c["popScopeId"])();var m=o((function(t,e,a,m,g,h){var O=Object(c["resolveComponent"])("router-link"),j=Object(c["resolveComponent"])("ToggleCartComponent");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("nav",r,[Object(c["createVNode"])("div",n,[i,Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:e[1]||(e[1]=function(t){return g.toggleIsShow=!0})},[s]),Object(c["createVNode"])("div",{class:["collapse navbar-collapse",g.toggleIsShow?"show":""],id:"navbarSupportedContent"},[Object(c["createVNode"])("ul",l,[Object(c["createVNode"])("li",{class:"nav-item",onClick:e[2]||(e[2]=function(t){return g.toggleIsShow=!1})},[Object(c["createVNode"])(O,{to:"/products",class:"nav-link","aria-current":"page"},{default:o((function(){return[d]})),_:1})]),Object(c["createVNode"])("li",u,[Object(c["createVNode"])(O,{to:"/about",class:"nav-link"},{default:o((function(){return[b]})),_:1})]),Object(c["createVNode"])("li",f,[Object(c["createVNode"])(O,{to:"/favorite",class:"nav-link"},{default:o((function(){return[p]})),_:1})]),v])],2)])],512),Object(c["createVNode"])(j)],64)})),g=Object(c["withScopeId"])("data-v-7ac6f9e8");Object(c["pushScopeId"])("data-v-7ac6f9e8");var h={class:"offcanvas offcanvas-end",ref:"toggle_cart_offcanvas",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},O=Object(c["createVNode"])("div",{class:"offcanvas-header"},[Object(c["createVNode"])("h5",{id:"offcanvasRightLabel",class:"d-flex"},[Object(c["createVNode"])("span",{class:"material-icons-round"},"shopping_cart"),Object(c["createTextVNode"])("我的購物車 ")]),Object(c["createVNode"])("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),j={class:"offcanvas-body container"},N={class:"summary_block d-flex"},_=Object(c["createTextVNode"])(" 購物車目前有 "),C=Object(c["createTextVNode"])(" 個產品 "),V={key:0};Object(c["popScopeId"])();var y=g((function(t,e,a,o,r,n){var i=Object(c["resolveComponent"])("ToggleCartItemComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",h,[O,Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("p",null,[_,Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(r.cart_list.length),1),C]),r.cart_list.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=function(t){return n.directToPage("cart")})}," 查看購物車 ")):Object(c["createCommentVNode"])("",!0)]),r.cart_list?(Object(c["openBlock"])(),Object(c["createBlock"])("div",V,[Object(c["createVNode"])(i,{cart_list:r.cart_list,getCartList:n.getCartList},null,8,["cart_list","getCartList"])])):Object(c["createCommentVNode"])("",!0),r.cart_list.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:1,type:"button",class:"btn btn-outline-secondary",onClick:e[2]||(e[2]=function(){return n.clearAllCartList&&n.clearAllCartList.apply(n,arguments)})}," 清空購物車 ")):Object(c["createCommentVNode"])("",!0)])],512)})),I=(a("99af"),a("7b17")),k=a("163e"),x=a.n(k),w=Object(c["withScopeId"])("data-v-919ee8b8");Object(c["pushScopeId"])("data-v-919ee8b8");var S={class:"cart_list_wrapper"},T={key:1,class:"empty_cart"},B={class:"content d-flex flex-column align-items-center"},L=Object(c["createVNode"])("p",null,"現在購物車沒有任何東西喔！",-1),A=Object(c["createVNode"])("div",{class:"image col-6"},[Object(c["createVNode"])("img",{src:x.a,alt:"空的購物車圖案",style:"width: 100%; height: auto;"})],-1);Object(c["popScopeId"])();var E=w((function(t,e,a,o,r,n){var i=Object(c["resolveComponent"])("ToggleCartItemComponent");return Object(c["openBlock"])(),Object(c["createBlock"])("div",S,[a.cart_list.length>0?(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(a.cart_list,(function(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:"cart_"+e},[Object(c["createVNode"])(i,{cart_item:t,order:parseInt(e)+1,onGetData:a.getCartList},null,8,["cart_item","order","onGetData"])])})),128)):(Object(c["openBlock"])(),Object(c["createBlock"])("div",T,[Object(c["createVNode"])("div",B,[L,A,Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=function(e){return t.$router.push("/products")})}," 繼續購物 ")])]))])})),$=a("f721"),q={name:"ToggleCartListComponent",props:{cart_list:Array,getCartList:Function},components:{ToggleCartItemComponent:$["a"]},data:function(){return{}},methods:{},mounted:function(){}};a("0fed");q.render=E,q.__scopeId="data-v-919ee8b8";var F=q,D={name:"ToggleCartComponent",props:{},components:{ToggleCartItemComponent:F},data:function(){return{cart_list:[]}},methods:{directToPage:function(t){this.$router.push("/".concat(t)),this.toggleCartOffanvas.hide()},getCartList:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/cart");this.axios.get(e).then((function(e){var a=e.data.success;if(a){var c=e.data.data;t.cart_list=c.carts}else t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},clearAllCartList:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/carts");this.axios.delete(e).then((function(e){var a=e.data.success;a?(t.$swal("已清空購物車"),t.getCartList()):t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){t.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},created:function(){var t=this;this.emitter.on("updateCartList",(function(e){console.log(e,"num"),t.getCartList()})),this.emitter.on("clearCartList",(function(){t.cart_list=[]}))},mounted:function(){this.toggleCartOffanvas=new I["c"](this.$refs.toggle_cart_offcanvas),this.getCartList()},unmounted:function(){this.emitter.off("updateCartList")}};a("ce85");D.render=y,D.__scopeId="data-v-7ac6f9e8";var R=D,G={name:"HeaderComponent",components:{ToggleCartComponent:R},data:function(){return{toggleIsShow:!1}},methods:{},mounted:function(){},watch:{$route:function(){this.toggleIsShow=!1}}};a("3bb4");G.render=m,G.__scopeId="data-v-8a3afaa0";e["a"]=G},a9e3:function(t,e,a){"use strict";var c=a("83ab"),o=a("da84"),r=a("94ca"),n=a("6eeb"),i=a("5135"),s=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),b=a("7c73"),f=a("241c").f,p=a("06cf").f,v=a("9bf2").f,m=a("58a8").trim,g="Number",h=o[g],O=h.prototype,j=s(b(O))==g,N=function(t){var e,a,c,o,r,n,i,s,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+l}for(r=l.slice(2),n=r.length,i=0;i<n;i++)if(s=r.charCodeAt(i),s<48||s>o)return NaN;return parseInt(r,c)}return+l};if(r(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var _,C=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof C&&(j?u((function(){O.valueOf.call(a)})):s(a)!=g)?l(new h(N(e)),a,C):N(e)},V=c?f(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),y=0;V.length>y;y++)i(h,_=V[y])&&!i(C,_)&&v(C,_,p(h,_));C.prototype=O,O.constructor=C,n(o,g,C)}},ce85:function(t,e,a){"use strict";a("492d")},ee1f:function(t,e,a){},eebe:function(t,e,a){"use strict";a("248f")},f5e0:function(t,e,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-378a3701");Object(c["pushScopeId"])("data-v-378a3701");var r={class:"footer_wrapper container-fluid"},n=Object(c["createVNode"])("div",{class:"row content d-flex align-items-center"},[Object(c["createVNode"])("a",{class:"navbar-brand logo col-sm-2",href:"#"}),Object(c["createVNode"])("p",{class:"col-auto"},"Copyright © 2020 CoffeetPrint. 僅個人作品練習，無商業用途。")],-1);Object(c["popScopeId"])();var i=o((function(t,e,a,o,i,s){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[n])})),s={name:"FooterComponent"};a("0574");s.render=i,s.__scopeId="data-v-378a3701";e["a"]=s},f721:function(t,e,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-3afae914");Object(c["pushScopeId"])("data-v-3afae914");var r={class:"card mb-3"},n={class:"card-header header_text d-flex align-items-center"},i={class:"card-body"},s={class:"row"},l={class:"col"},d={class:"col"},u={class:"card-text card_text"},b={class:"input-group mb-3"},f=Object(c["createVNode"])("span",{class:"material-icons-round"},"remove",-1),p=Object(c["createVNode"])("span",{class:"material-icons-round"},"add",-1);Object(c["popScopeId"])();var v=o((function(t,e,a,o,v,m){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])("div",n,[Object(c["createTextVNode"])(" #"+Object(c["toDisplayString"])(a.order)+" ",1),Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(a.cart_item.product.category),1),Object(c["createTextVNode"])(Object(c["toDisplayString"])(a.cart_item.product.title)+" 折價券 ",1)]),Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("img",{src:a.cart_item.product.imageUrl,alt:"購物車單一品項的主圖",style:"width: 100%; height: auto;"},null,8,["src"])]),Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("p",null,"NT$ "+Object(c["toDisplayString"])((v.item_qty*a.cart_item.product.price).toLocaleString()),1),Object(c["createVNode"])("div",b,[Object(c["createVNode"])("button",{type:"button",class:"btn",onClick:e[1]||(e[1]=function(t){return m.modifyNum("minus",a.cart_item.id)})},[f]),Object(c["createVNode"])("input",{type:"text",class:"form-control center",value:v.item_qty,"aria-label":"數量"},null,8,["value"]),Object(c["createVNode"])("button",{class:"btn",type:"button",onClick:e[2]||(e[2]=function(t){return m.modifyNum("add",a.cart_item.id)})},[p])]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[3]||(e[3]=function(t){return m.deleteCurrentCartItem(a.cart_item.id)})}," 刪除 ")])])])])])})),m=(a("a9e3"),a("99af"),{name:"ToggleCartItemComponent",props:{cart_item:Object,order:Number},emits:["getData"],components:{},data:function(){return{item_qty:""}},methods:{deleteCurrentCartItem:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/cart/").concat(t);this.axios.delete(a).then((function(t){var a=t.data.success;a&&(e.$swal("已成功刪除！"),e.$emit("getData"))})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))},modifyNum:function(t,e){"add"===t?this.item_qty+=1:(this.item_qty-=1,0===this.item_qty&&this.deleteCurrentCartItem(e)),this.updateCartItemNum(e)},updateCartItemNum:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("tofutseng","/cart/").concat(t),c={product_id:t,qty:this.item_qty};this.axios.put(a,{data:c}).then((function(t){var a=t.data,c=a.success,o=a.data;c?e.cart_list=o.carts:e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})})).catch((function(){e.$swal({title:"出了點錯誤，請稍後再嘗試，謝謝。",icon:"error"})}))}},mounted:function(){this.item_qty=this.cart_item.qty},watch:{cart_item:function(){this.item_qty=this.cart_item.qty}}});a("eebe");m.render=v,m.__scopeId="data-v-3afae914";e["a"]=m},fb98:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6094b7d0.bcd2852b.js.map